<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ryokuryuneko|喵！新的开始！一切奇迹的起点！</title>
    <script src="assets/tailwindcss.js"></script>
    <link href="assets/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#81d8d0',
                        secondary: '#5fb8af',
                        accent: '#409690',
                        dark: '#1e3a37',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .card-shadow {
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            }
            .dark .card-shadow {
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
            }
            .page-section {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                opacity: 0;
                pointer-events: none;
                visibility: hidden;
                display: flex;
                align-items: flex-start;
                justify-content: center;
                min-height: calc(100vh - 80px);
                padding: 2rem 0;
                overflow-y: auto;
            }
            .page-section.from-left {
                transform: translateX(-100%) rotate(-5deg) scale(0.9);
            }
            .page-section.from-right {
                transform: translateX(100%) rotate(5deg) scale(0.9);
            }
            .page-section.from-top {
                transform: translateY(-100%) scale(0.9) rotate(-3deg);
            }
            .page-section.from-bottom {
                transform: translateY(100%) scale(0.9) rotate(3deg);
            }
            .page-section.active {
                opacity: 1;
                transform: translateX(0) translateY(0) rotate(0) scale(1);
                pointer-events: auto;
                visibility: visible;
                transition: opacity 0.8s cubic-bezier(0.34, 1.56, 0.64, 1), transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            }
            .nav-link {
                position: relative;
                transition: color 0.3s ease;
            }
            .nav-link::after {
                content: '';
                position: absolute;
                bottom: -4px;
                left: 0;
                width: 0;
                height: 2px;
                background: linear-gradient(90deg, #81d8d0, #5fb8af);
                transition: width 0.3s ease;
            }
            .nav-link:hover::after,
            .nav-link.active::after {
                width: 100%;
            }
            .nav-link.active {
                color: #6366f1;
            }
        }
    </style>
    
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            padding-top: 80px;
            overscroll-behavior: none;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .main-content {
            flex: 1;
            position: relative;
            z-index: 1;
            min-height: calc(100vh - 80px);
        }
        .cat-art {
            font-family: monospace;
            white-space: pre;
            line-height: 1.2;
            text-align: center;
        }
        @media (max-width: 640px) {
            .cat-art {
                font-size: 12px;
            }
            body {
                padding-top: 70px;
            }
        }
        
        #snow-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: auto;
        }
        
        .theme-toggle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .theme-toggle:hover {
            transform: rotate(180deg);
        }
        
        footer {
            position: relative;
            z-index: 10;
            flex-shrink: 0;
        }
        
        .logo-wrapper {
            display: inline-block;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .logo-wrapper:hover {
            transform: scale(1.1) rotate(5deg);
            animation: logoBounce 0.5s ease infinite alternate;
        }
        
        .logo-wrapper::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: radial-gradient(circle, rgba(129, 216, 208, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }
        
        .logo-wrapper:hover::before {
            opacity: 1;
            animation: pulse 1s ease infinite;
        }
        
        .logo-img {
            transition: transform 0.3s ease, filter 0.3s ease;
        }
        
        .logo-wrapper:hover .logo-img {
            filter: drop-shadow(0 0 15px rgba(129, 216, 208, 0.8));
        }
        
        @keyframes logoBounce {
            0% { transform: scale(1.1) rotate(-3deg); }
            100% { transform: scale(1.15) rotate(3deg); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.2); opacity: 0.8; }
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-300">
    <canvas id="snow-canvas"></canvas>
    <header class="fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm shadow-md z-50 h-20">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 h-full">
            <div class="flex items-center justify-between h-full">
                <div class="flex items-center">
                    <a href="https://ryokuryuneko.top" target="_blank" class="logo-wrapper">
                        <img src="images/logo.png" alt="Logo" class="h-32 w-32 object-contain logo-img">
                    </a>
                </div>
                
                <nav class="hidden md:flex items-center space-x-6 lg:space-x-8">
                    <a href="#" class="nav-link active text-gray-700 dark:text-gray-200 font-medium text-sm lg:text-base" data-section="home">首页</a>
                    <a href="#" class="nav-link text-gray-700 dark:text-gray-200 font-medium text-sm lg:text-base" data-section="about">简介</a>
                    <a href="#" class="nav-link text-gray-700 dark:text-gray-200 font-medium text-sm lg:text-base" data-section="websites">网址</a>
                    <a href="#" class="nav-link text-gray-700 dark:text-gray-200 font-medium text-sm lg:text-base" data-section="other">其他</a>
                </nav>
                
                <div class="flex items-center gap-2">
                    <button id="themeToggle" class="theme-toggle bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-yellow-400 hover:bg-gray-200 dark:hover:bg-gray-600">
                        <i class="fa fa-sun-o text-xl" id="themeIcon"></i>
                    </button>
                    
                    <button id="shareBtn" class="p-3 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-gray-700 dark:text-gray-200">
                        <i class="fa fa-share-alt text-xl"></i>
                    </button>
                    
                    <button id="mobileMenuBtn" class="md:hidden ml-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                        <i class="fa fa-bars text-xl text-gray-700 dark:text-gray-200"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <div id="mobileMenu" class="md:hidden hidden bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700">
            <div class="container mx-auto px-4 py-4">
                <nav class="flex flex-col space-y-4">
                    <a href="#" class="nav-link active text-gray-700 dark:text-gray-200 font-medium py-2" data-section="home">首页</a>
                    <a href="#" class="nav-link text-gray-700 dark:text-gray-200 font-medium py-2" data-section="about">简介</a>
                    <a href="#" class="nav-link text-gray-700 dark:text-gray-200 font-medium py-2" data-section="websites">网址</a>
                    <a href="#" class="nav-link text-gray-700 dark:text-gray-200 font-medium py-2" data-section="other">其他</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="main-content">
        <section id="home" class="page-section active">
            <div class="hero-content text-center px-4 py-16">
                <h1 class="hero-title text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-4">Ryokuryuneko</h1>
                <h2 class="hero-subtitle text-2xl sm:text-3xl md:text-4xl font-semibold text-gray-700 dark:text-gray-200 mb-6">WZL</h2>
                <p class="hero-description text-base sm:text-lg md:text-xl text-gray-600 dark:text-gray-400 mb-10 max-w-2xl mx-auto">喵！新的开始！一切奇迹的起点！</p>
                <div class="hero-buttons flex flex-wrap justify-center gap-4">
                    <a href="#" class="btn btn-primary bg-gradient-to-r from-primary to-secondary text-white px-6 sm:px-8 py-3 rounded-full font-medium hover:shadow-lg transition-all transform hover:scale-105" data-section="websites">
                        开始探索
                    </a>
                    <a href="#" class="btn btn-secondary border-2 border-primary text-primary px-6 sm:px-8 py-3 rounded-full font-medium hover:bg-primary hover:text-white transition-all" data-section="about">
                        了解更多
                    </a>
                </div>
            </div>
        </section>

        <section id="about" class="page-section">
            <div class="section-content container mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20">
                <h2 class="section-title text-2xl sm:text-3xl md:text-4xl font-bold text-center text-gray-800 dark:text-white mb-8 sm:mb-12">简介</h2>
                <div class="features-grid max-w-4xl mx-auto">
                    <div class="feature-card bg-white dark:bg-gray-800 rounded-2xl p-6 sm:p-8 card-shadow card-hover text-center">
                        <div class="feature-icon mb-6">
                            <img src="images/t.png" width="200" height="200" alt="Ryokuryuneko" class="mx-auto rounded-full border-4 border-primary/20">
                        </div>
                        <h3 class="text-xl sm:text-2xl font-bold text-gray-800 dark:text-white mb-4">Ryokuryuneko</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-2">游戏名统一WZL0813</p>
                        <p class="text-gray-600 dark:text-gray-300 mb-2">昵称统一Ryokuryuneko</p>
                        <p class="text-gray-600 dark:text-gray-300">有事加2411273874</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="websites" class="page-section">
            <div class="section-content container mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20">
                <h2 class="section-title text-2xl sm:text-3xl md:text-4xl font-bold text-center text-gray-800 dark:text-white mb-8 sm:mb-12">网址</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
                    <div class="character-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden card-shadow card-hover">
                        <div class="character-image h-40 sm:h-48 bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                            <i class="fa fa-cloud text-white text-4xl sm:text-5xl"></i>
                        </div>
                        <div class="p-4 sm:p-6">
                            <h3 class="text-lg sm:text-xl font-bold text-gray-800 dark:text-white mb-2">云盘</h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-4">OpenList(还在修)</p>
                            <p>
                                <a href="https://list.ryokuryuneko.top/" class="inline-flex items-center text-primary hover:text-secondary transition-colors">
                                    list <i class="fa fa-arrow-right ml-2"></i>
                                </a>
                            </p>
                        </div>
                    </div>

                    <div class="character-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden card-shadow card-hover">
                        <div class="character-image h-40 sm:h-48 bg-gradient-to-r from-green-400 to-teal-500 flex items-center justify-center">
                            <i class="fa fa-cutlery text-white text-4xl sm:text-5xl"></i>
                        </div>
                        <div class="p-4 sm:p-6">
                            <h3 class="text-lg sm:text-xl font-bold text-gray-800 dark:text-white mb-2">学校食谱</h3>
                            <p class="mb-4">
                                <a href="https://ryokuryuneko.top/XueXiaoShiPu.html" class="text-primary hover:text-secondary transition-colors">
                                    学校食谱选择界面
                                </a>
                            </p>
                        </div>
                    </div>

                    <div class="character-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden card-shadow card-hover">
                        <div class="character-image h-40 sm:h-48 bg-gradient-to-r from-red-400 to-orange-500 flex items-center justify-center">
                            <i class="fa fa-video-camera text-white text-4xl sm:text-5xl"></i>
                        </div>
                        <div class="p-4 sm:p-6">
                            <h3 class="text-lg sm:text-xl font-bold text-gray-800 dark:text-white mb-2">视频发布页(学校)</h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-4">Video Release Page (School)</p>
                            <p>
                                <a href="https://ryokuryuneko.top/SchoolVideoReleasePage.html" class="inline-flex items-center text-primary hover:text-secondary transition-colors">
                                    GO <i class="fa fa-arrow-right ml-2"></i>
                                </a>
                            </p>
                        </div>
                    </div>

                    <div class="character-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden card-shadow card-hover">
                        <div class="character-image h-40 sm:h-48 bg-gradient-to-r from-amber-400 to-yellow-500 flex items-center justify-center">
                            <i class="fa fa-server text-white text-4xl sm:text-5xl"></i>
                        </div>
                        <div class="p-4 sm:p-6">
                            <h3 class="text-lg sm:text-xl font-bold text-gray-800 dark:text-white mb-2">RyokuryunekoSMP</h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-4">Minecraft服务器，具体介绍看官网</p>
                            <p>
                                <a href="https://ryokuryuneko.top/RyokuryunekoSMP/" class="inline-flex items-center text-primary hover:text-secondary transition-colors">
                                    官网 <i class="fa fa-arrow-right ml-2"></i>
                                </a>
                            </p>
                        </div>
                    </div>

                    <div class="character-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden card-shadow card-hover">
                        <div class="character-image h-40 sm:h-48 bg-gradient-to-r from-purple-400 to-pink-500 flex items-center justify-center">
                            <i class="fa fa-music text-white text-4xl sm:text-5xl"></i>
                        </div>
                        <div class="p-4 sm:p-6">
                            <h3 class="text-lg sm:text-xl font-bold text-gray-800 dark:text-white mb-2">蔚蓝档案-游戏开发部の天籁之音</h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-4">BA游戏开发部の发癫语录</p>
                            <p>
                                <a href="https://ryokuryuneko.top/BlueArchive-GameDevelopmentDepartment-HeavenlyVoice/" class="inline-flex items-center text-primary hover:text-secondary transition-colors">
                                    官网 <i class="fa fa-arrow-right ml-2"></i>
                                </a>
                            </p>
                        </div>
                    </div>

                    <div class="character-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden card-shadow card-hover">
                        <div class="character-image h-40 sm:h-48 bg-gradient-to-r from-gray-400 to-gray-600 flex items-center justify-center">
                            <i class="fa fa-ellipsis-h text-white text-4xl sm:text-5xl"></i>
                        </div>
                        <div class="p-4 sm:p-6">
                            <h3 class="text-lg sm:text-xl font-bold text-gray-800 dark:text-white mb-2">Other</h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-4">其他的其他</p>
                            <p>
                                <a href="https://other.ryokuryuneko.top/" class="inline-flex items-center text-primary hover:text-secondary transition-colors">
                                    前往 <i class="fa fa-arrow-right ml-2"></i>
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="other" class="page-section">
            <div class="section-content container mx-auto px-4 sm:px-6 lg:px-8 py-16">
                <h2 class="section-title text-2xl sm:text-3xl md:text-4xl font-bold text-center text-gray-800 dark:text-white mb-8">其他</h2>
                <p class="other-description text-center text-lg sm:text-xl text-gray-600 dark:text-gray-300 mb-8">自己是一只猫猫 躺平了喵</p>
                <div class="cat-art text-gray-700 dark:text-gray-300 mb-8 text-base sm:text-lg">
　　       　∧,,　
　　　　ヾ ｀. ､`フ
　　　(,｀'´ヽ､､ﾂﾞ
　 (ヽｖ'　　　`''ﾞつ
　　,ゝ　 ⌒`ｙ'''´
　 （ (´＾ヽこつ
　　 ) )
　　(ノ
                </div>
                <div class="other-buttons flex flex-wrap justify-center gap-4 sm:gap-6">
                    <a href="https://space.bilibili.com/1948701915/" target="_blank" class="btn btn-other bg-gradient-to-r from-pink-500 to-rose-500 text-white px-6 sm:px-8 py-4 rounded-xl font-medium hover:shadow-lg transition-all transform hover:scale-105 flex flex-col items-center min-w-[160px] sm:min-w-[180px]">
                        <span class="btn-text">
                            <span class="btn-title text-lg sm:text-xl font-bold">Bilibili</span>
                            <span class="btn-subtitle text-xs sm:text-sm opacity-90">Ryokuryuneko</span>
                        </span>
                    </a>
                    <a href="https://github.com/WZL0813/" target="_blank" class="btn btn-other bg-gradient-to-r from-gray-800 to-gray-900 text-white px-6 sm:px-8 py-4 rounded-xl font-medium hover:shadow-lg transition-all transform hover:scale-105 flex flex-col items-center min-w-[160px] sm:min-w-[180px]">
                        <span class="btn-text">
                            <span class="btn-title text-lg sm:text-xl font-bold">GitHub</span>
                            <span class="btn-subtitle text-xs sm:text-sm opacity-90">Ryokuryuneko</span>
                        </span>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <footer id="footer" class="fixed bottom-0 left-0 right-0 bg-dark dark:bg-gray-950 text-white py-8 z-40 transition-all duration-500 transform translate-y-full opacity-0">
        <div class="footer-content container mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="mb-2">Make by <strong>WZL</strong>0813(Ryokuryuneko)</p>
            <p class="mb-2">All Rights Reserved</p>
            <p class="mb-2">Design: WZL(Ryokuryuneko)</p>
            <p class="mb-2">&copy; Ryokuryuneko ∞</p>
            <p class="mt-4">
                <a href="https://icp.gov.moe/?keyword=20253180" target="_blank" class="text-pink-400 hover:text-pink-300 transition-colors">
                    萌ICP备20253180号
                </a>
            </p>
        </div>
    </footer>

    <script>
        const canvas = document.getElementById('snow-canvas');
        const ctx = canvas.getContext('2d');
        let snowflakes = [];
        let trails = [];
        let mouse = { x: null, y: null };
        let isDark = false;
        const snowColors = ['#81d8d0', '#a0e5df', '#b8ebe7', '#d0f5f2'];

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        class Snowflake {
            constructor() {
                this.reset();
            }

            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * -canvas.height - 50;
                this.size = Math.random() * 4 + 1;
                this.speedY = Math.random() * 2 + 1;
                this.speedX = Math.random() * 1 - 0.5;
                this.rotation = Math.random() * Math.PI * 2;
                this.rotationSpeed = Math.random() * 0.02 - 0.01;
                this.opacity = Math.random() * 0.5 + 0.5;
                this.color = snowColors[Math.floor(Math.random() * snowColors.length)];
            }

            update() {
                this.y += this.speedY;
                this.x += this.speedX + Math.sin(this.y * 0.01) * 0.5;
                this.rotation += this.rotationSpeed;

                if (this.y > canvas.height + 10) {
                    this.reset();
                }
            }

            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation);
                ctx.beginPath();
                ctx.arc(0, 0, this.size, 0, Math.PI * 2);
                if (isDark) {
                    ctx.fillStyle = `rgba(160, 229, 223, ${this.opacity})`;
                } else {
                    ctx.fillStyle = this.color;
                    ctx.globalAlpha = this.opacity;
                }
                ctx.fill();
                ctx.restore();
            }
        }

        class TrailPoint {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.life = 1;
                this.decay = 0.003;
                this.size = 8;
            }

            update() {
                this.life -= this.decay;
            }

            draw() {
                if (this.life <= 0) return;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size * this.life, 0, Math.PI * 2);
                ctx.fillStyle = isDark 
                    ? `rgba(45, 70, 68, ${this.life * 0.8})` 
                    : `rgba(129, 216, 208, ${this.life * 0.4})`;
                ctx.fill();
            }
        }

        function initSnow() {
            snowflakes = [];
            const numberOfSnowflakes = (canvas.width * canvas.height) / 3000;
            for (let i = 0; i < numberOfSnowflakes; i++) {
                snowflakes.push(new Snowflake());
            }
        }

        function animateSnow() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            trails.forEach((trail, index) => {
                trail.update();
                trail.draw();
                if (trail.life <= 0) {
                    trails.splice(index, 1);
                }
            });

            snowflakes.forEach(snowflake => {
                snowflake.update();
                snowflake.draw();
            });

            requestAnimationFrame(animateSnow);
        }

        resizeCanvas();
        initSnow();
        animateSnow();

        window.addEventListener('resize', () => {
            resizeCanvas();
            initSnow();
        });

        let lastTrailTime = 0;
        window.addEventListener('mousemove', (e) => {
            mouse.x = e.x;
            mouse.y = e.y;
            
            const now = Date.now();
            if (now - lastTrailTime > 30) {
                trails.push(new TrailPoint(e.x, e.y));
                lastTrailTime = now;
            }
        });

        window.addEventListener('mouseout', () => {
            mouse.x = null;
            mouse.y = null;
        });

        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const html = document.documentElement;

        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            html.classList.add('dark');
            themeIcon.className = 'fa fa-moon-o text-xl';
            isDark = true;
        }

        themeToggle.addEventListener('click', () => {
            html.classList.toggle('dark');
            isDark = html.classList.contains('dark');
            if (isDark) {
                themeIcon.className = 'fa fa-moon-o text-xl';
                localStorage.setItem('theme', 'dark');
            } else {
                themeIcon.className = 'fa fa-sun-o text-xl';
                localStorage.setItem('theme', 'light');
            }
        });

        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.page-section');
        const footer = document.getElementById('footer');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const shareBtn = document.getElementById('shareBtn');
        let currentSection = 'home';
        let isAnimating = false;
        let lastScrollTime = 0;
        const scrollThreshold = 100;
        const touchScrollThreshold = 150;

        const sectionOrder = ['home', 'about', 'websites', 'other'];

        function getNextSection(current) {
            const currentIndex = sectionOrder.indexOf(current);
            if (currentIndex < sectionOrder.length - 1) {
                return sectionOrder[currentIndex + 1];
            }
            return current;
        }

        function getPrevSection(current) {
            const currentIndex = sectionOrder.indexOf(current);
            if (currentIndex > 0) {
                return sectionOrder[currentIndex - 1];
            }
            return current;
        }

        function switchSection(sectionId) {
            if (isAnimating) return;
            isAnimating = true;
            
            window.scrollTo({ top: 0, behavior: 'instant' });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.dataset.section === sectionId) {
                    link.classList.add('active');
                }
            });
            
            const currentIndex = sectionOrder.indexOf(currentSection);
            const targetIndex = sectionOrder.indexOf(sectionId);
            const targetSection = document.getElementById(sectionId);
            
            if (targetSection) {
                sections.forEach(section => {
                    section.classList.remove('active', 'from-left', 'from-right', 'from-top', 'from-bottom');
                });
                
                const directions = ['from-left', 'from-right', 'from-top', 'from-bottom'];
                const randomDir = directions[Math.floor(Math.random() * directions.length)];
                
                if (targetIndex > currentIndex) {
                    targetSection.classList.add('from-bottom');
                } else if (targetIndex < currentIndex) {
                    targetSection.classList.add('from-top');
                } else {
                    targetSection.classList.add(randomDir);
                }
                
                requestAnimationFrame(() => {
                    targetSection.classList.add('active');
                });
                
                setTimeout(() => {
                    window.scrollTo({ top: 0, behavior: 'instant' });
                    isAnimating = false;
                }, 800);
            }
            
            currentSection = sectionId;
            updateFooterVisibility();
            
            if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
            }
        }

        function updateFooterVisibility() {
            if (currentSection === 'other') {
                footer.classList.remove('translate-y-full', 'opacity-0');
                footer.classList.add('translate-y-0', 'opacity-100');
            } else {
                footer.classList.remove('translate-y-0', 'opacity-100');
                footer.classList.add('translate-y-full', 'opacity-0');
            }
        }

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = link.dataset.section;
                if (sectionId) {
                    switchSection(sectionId);
                }
            });
        });

        const heroButtons = document.querySelectorAll('.hero-buttons .btn[data-section]');
        heroButtons.forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = btn.dataset.section;
                if (sectionId) {
                    switchSection(sectionId);
                }
            });
        });

        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        }

        if (shareBtn) {
            shareBtn.addEventListener('click', () => {
                if (navigator.share) {
                    navigator.share({
                        title: 'Ryokuryuneko',
                        text: '喵！新的开始！',
                        url: window.location.href
                    }).catch(console.error);
                } else {
                    navigator.clipboard.writeText(window.location.href).then(() => {
                        alert('链接已复制到剪贴板！');
                    }).catch(() => {
                        prompt('复制链接:', window.location.href);
                    });
                }
            });
        }

        document.addEventListener('wheel', (e) => {
            const now = Date.now();
            if (now - lastScrollTime < 600) return;
            
            const currentActiveSection = document.querySelector('.page-section.active');
            if (currentActiveSection) {
                const canScroll = currentActiveSection.scrollHeight > currentActiveSection.clientHeight;
                const atTop = currentActiveSection.scrollTop <= 5;
                const atBottom = currentActiveSection.scrollTop + currentActiveSection.clientHeight >= currentActiveSection.scrollHeight - 5;
                
                if (e.deltaY > 0) {
                    if (canScroll && !atBottom) {
                        return;
                    }
                    const next = getNextSection(currentSection);
                    if (next !== currentSection) {
                        e.preventDefault();
                        switchSection(next);
                        lastScrollTime = now;
                    }
                } else if (e.deltaY < 0) {
                    if (canScroll && !atTop) {
                        return;
                    }
                    const prev = getPrevSection(currentSection);
                    if (prev !== currentSection) {
                        e.preventDefault();
                        switchSection(prev);
                        lastScrollTime = now;
                    }
                }
            }
        }, { passive: false });

        let touchStartY = 0;
        document.addEventListener('touchstart', (e) => {
            touchStartY = e.touches[0].clientY;
        }, { passive: true });

        document.addEventListener('touchend', (e) => {
            const touchEndY = e.changedTouches[0].clientY;
            const diff = touchStartY - touchEndY;
            const now = Date.now();
            
            if (now - lastScrollTime < 600) return;
            
            if (Math.abs(diff) < touchScrollThreshold) {
                return;
            }
            
            if (diff > 0) {
                const next = getNextSection(currentSection);
                if (next !== currentSection) {
                    switchSection(next);
                    lastScrollTime = now;
                }
            } else if (diff < 0) {
                const prev = getPrevSection(currentSection);
                if (prev !== currentSection) {
                    switchSection(prev);
                    lastScrollTime = now;
                }
            }
        }, { passive: true });

        document.addEventListener('DOMContentLoaded', () => {
            updateFooterVisibility();
            
            const cards = document.querySelectorAll('.character-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, 100 * index);
            });
        });
    </script>
</body>
</html>
